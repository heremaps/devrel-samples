{"version":3,"file":"hds-banner.js","sourceRoot":"","sources":["../src/hds-banner.ts"],"names":[],"mappings":"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","sourcesContent":["import {customElement, isSlotEmpty} from '@here/hds-base';\nimport '@here/hds-icon';\nimport {html, LitElement, nothing, PropertyValues} from 'lit';\nimport {property, query} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {styles} from './hds-banner.css.js';\n\nexport type BannerVariant = 'default' | 'wide';\nexport type BannerState = 'informative' | 'positive' | 'warning' | 'error';\nexport type BannerChangePayload = {open: boolean; from: 'button' | 'timeout' | undefined};\n\n/**\n * @slot default Content for the message.\n * @slot action-links Content for action links in the middle.\n * @slot action-buttons Content for action buttons on the right side.\n *\n * @event {CustomEvent<{from: 'button' | 'timeout'}>} change Event fired when the component should be closed and from where (close button / timeout) `BannerChangePayload`\n */\n@customElement('hds-banner')\nexport class Banner extends LitElement {\n  static styles = styles;\n\n  @property({type: String}) variant: BannerVariant = 'default';\n  @property({type: String}) state: BannerState = 'informative';\n  @property({type: Boolean, attribute: 'align-center'}) alignCenter = false;\n  @property({type: Number, reflect: true}) timeout = 0;\n  @property({type: Boolean}) removable = false;\n  @property({type: Boolean, attribute: 'icon'}) icon = false;\n  @property({type: Boolean, reflect: true}) open = true;\n  @property({type: String}) caption = '';\n  @property({type: String}) headline = '';\n  @property({type: Number, attribute: 'duration'})\n  set duration(value: number) {\n    console.warn(\"[hds-banner] 'duration' property is depricated, use 'timeout' instead\");\n    this.timeout = value;\n  }\n\n  @query('slot[name=\"action-button\"]') protected slotActionButton!: HTMLSlotElement;\n  @query('slot[name=\"action-link\"]') protected slotActionLink!: HTMLSlotElement;\n\n  private fromChangeEvent?: 'button' | 'timeout';\n\n  private timer?: ReturnType<typeof setTimeout>;\n\n  protected updated(_changedProperties: PropertyValues) {\n    if (_changedProperties.has('open') && _changedProperties.get('open') !== undefined) {\n      this.dispatchEvent(\n        new CustomEvent<BannerChangePayload>('change', {\n          detail: {\n            open: this.open,\n            from: this.fromChangeEvent,\n          },\n          bubbles: true,\n          composed: true,\n        })\n      );\n      this.fromChangeEvent = undefined;\n    }\n    if (_changedProperties.has('timeout') && this.timeout > 0) {\n      clearTimeout(this.timer);\n      this.timer = setTimeout(this.timeOut.bind(this), this.timeout * 1000);\n    }\n  }\n\n  protected renderMessageCaption() {\n    if (this.variant === 'wide' && this.caption) {\n      return html`<div class=\"message-caption\">${this.caption}</div>`;\n    }\n    return nothing;\n  }\n\n  protected renderMessageHeadline() {\n    if (this.variant === 'wide' && this.headline) {\n      return html`<div class=\"message-headline\">${this.headline}</div>`;\n    }\n    return nothing;\n  }\n\n  protected renderIcon() {\n    if (this.variant === 'default' && this.icon) {\n      const iconName = {\n        error: 'alert',\n        warning: 'attention',\n        positive: 'confirm',\n        informative: 'information',\n      }[this.state];\n\n      return html`<div class=\"message-left icon\">\n        <hds-icon name=\"${iconName}\" icon-style=\"outline\" size=\"24px\"></hds-icon>\n      </div>`;\n    }\n\n    return nothing;\n  }\n\n  protected render() {\n    const role = this.state === 'error' || this.state === 'warning' ? 'alert' : 'banner';\n    const hasActionButton = !isSlotEmpty(this.slotActionButton);\n    const hasActionLink = !isSlotEmpty(this.slotActionLink);\n    const classes = {\n      open: this.open,\n      '-hds-banner-wrapper': true,\n      'align-center': this.variant === 'default' && this.alignCenter,\n    };\n    classes[`state-${this.state}`] = true;\n    classes[`hds-banner--variant-${this.variant}`] = true;\n    classes[`-${hasActionButton ? 'has' : 'no'}-action-button`] = true;\n    classes[`-${hasActionLink ? 'has' : 'no'}-action-link`] = true;\n\n    return html`\n      <div class=\"${classMap(classes)}\" role=\"${role}\">\n        <div class=\"content\">\n          <div class=\"message\">\n            ${this.renderIcon()}\n            <div class=\"message-right\">\n              <div class=\"message-texts\">\n                ${this.renderMessageCaption()} ${this.renderMessageHeadline()}\n                <slot @slotchange=\"${() => this.requestUpdate()}\"></slot>\n              </div>\n              <div class=\"action-links\">\n                <slot name=\"action-link\" @slotchange=\"${() => this.requestUpdate()}\"></slot>\n              </div>\n            </div>\n          </div>\n          <div class=\"action-buttons\">\n            <slot name=\"action-button\" @slotchange=\"${() => this.requestUpdate()}\"></slot>\n          </div>\n        </div>\n        ${this.renderCloseButton()}\n      </div>\n    `;\n  }\n\n  protected async handleRemoveClick(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.fromChangeEvent = 'button';\n    this.open = false;\n  }\n\n  private async timeOut() {\n    this.timeout = 0;\n    this.fromChangeEvent = 'timeout';\n    this.open = false;\n  }\n\n  private renderCloseButton() {\n    if (!this.removable) return nothing;\n    return html`\n      <hds-button\n        class=\"close-btn\"\n        size=\"small\"\n        variant=\"on-color-secondary\"\n        icon=\"cross\"\n        aria-label=\"close\"\n        role=\"button\"\n        @click=\"${this.handleRemoveClick}\"\n      ></hds-button>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'hds-banner': Banner;\n  }\n}\n"]}
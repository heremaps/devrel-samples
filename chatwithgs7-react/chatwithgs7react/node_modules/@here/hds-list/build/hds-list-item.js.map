{"version":3,"file":"hds-list-item.js","sourceRoot":"","sources":["../src/hds-list-item.ts"],"names":[],"mappings":"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","sourcesContent":["import {customElement, BaseElement} from '@here/hds-base';\nimport '@here/hds-icon';\nimport {IconCategory} from '@here/hds-iconlibrary';\nimport '@here/hds-tooltip';\nimport {html, LitElement, nothing, PropertyValues} from 'lit';\nimport {property, query} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\nimport {styles} from './hds-list-item.css.js';\nimport {ListPadding, ListVariant} from './hds-list.js';\n\nexport type ListItemSize = 'small' | 'medium' | 'large' | 'extra-large' | 'auto';\nexport type ListItemVariant = 'default' | 'success' | 'error';\nexport type ListItemSelectPayload = string;\n\n/**\n * @slot default Content for the item label\n *\n * @event {CustomEvent<string>} select Fired when the element has been selected with the id of the list item `ListItemSelectPayload`\n */\n@customElement('hds-list-item')\nexport class ListItem extends BaseElement {\n  static styles = styles;\n  static itemIdCounter = 0;\n  static shadowRootOptions = {...LitElement.shadowRootOptions, delegatesFocus: true};\n  isTabbable = true;\n  // @property({type: Boolean}) disabled = false;\n  @property({type: Boolean, attribute: false}) parentDisabled = false;\n  @property({type: Boolean, reflect: true}) selected = false;\n  @property({type: Boolean, reflect: true}) dragging = false;\n  @property({type: String}) icon?: string;\n  @property({type: String, attribute: 'icon-category'}) iconCategory: IconCategory = 'core-ui';\n  @property({type: String, attribute: 'icon-right'}) iconRight?: string;\n  @property({type: String, attribute: 'icon-right-category'}) iconRightCategory: IconCategory =\n    'core-ui';\n  @property({type: Boolean, attribute: false}) hasTooltip = false;\n  @property({type: Boolean, attribute: false}) hasAnchor = false;\n  @property({type: String}) variant: ListItemVariant = 'default';\n  @property({type: String}) groupVariant: ListVariant = 'subtle';\n  @property({type: String}) size: ListItemSize = 'small';\n  @property({type: Boolean, attribute: false}) unhoverable = false;\n  @property({type: Boolean, attribute: false}) unpressable = false;\n  @property({type: Boolean, attribute: false}) unselectable = false;\n  @property({type: Boolean, attribute: false}) unfocusable = false;\n  @property({type: String, attribute: false}) horizontalPadding: ListPadding = 'default';\n  @query('slot') protected listItemContentSlot!: HTMLSlotElement;\n  @query('.text') protected textContainer!: HTMLElement;\n\n  private _disabled = false;\n\n  get disabled() {\n    return this._disabled || this.parentDisabled;\n  }\n\n  @property({type: Boolean})\n  set disabled(value: boolean) {\n    const oldValue = this._disabled;\n    this._disabled = value;\n    this.requestUpdate('disabled', oldValue);\n  }\n\n  protected firstUpdated() {\n    this.id = this.id || `hds-list-item-${(ListItem.itemIdCounter += 1)}`;\n    this.setAttribute('data-hds-tooltip', this.id);\n\n    if (this.textContainer && this.textContainer.scrollWidth > this.textContainer.offsetWidth) {\n      this.hasTooltip = true;\n    }\n    const slotElements = this.listItemContentSlot?.assignedElements({flatten: true});\n    const anchorTag = slotElements.find(element => element.nodeName === 'A') as HTMLAnchorElement;\n\n    if (anchorTag && this.size !== 'auto') {\n      this.hasAnchor = true;\n      if (anchorTag.scrollWidth > anchorTag.offsetWidth) {\n        this.hasTooltip = true;\n      }\n    }\n  }\n\n  protected updated(_changedProperties: PropertyValues) {\n    if (\n      _changedProperties.has('selected') &&\n      !this.disabled &&\n      this.selected &&\n      !this.unselectable\n    ) {\n      this.updateComplete;\n      this.dispatchEvent(\n        new CustomEvent<ListItemSelectPayload>('select', {detail: this.id, bubbles: true})\n      );\n    }\n  }\n\n  protected render() {\n    const classes = {\n      item: true,\n      selected: this.selected,\n      disabled: this.disabled,\n      dragging: this.dragging,\n      [`${this.unhoverable ? 'unhoverable' : 'hoverable'}`]: true,\n      [`${this.unselectable ? 'unselectable' : 'selectable'}`]: true,\n      [`${this.unpressable ? 'unpressable' : 'pressable'}`]: true,\n      [`${this.unfocusable ? 'unfocusable' : 'focusable'}`]: true,\n      'hds-list-item--has-anchor': this.hasAnchor,\n    };\n    classes[`hds-list-item-variant-${this.groupVariant}-${this.variant}`] = true;\n    classes[`hds-list-item-size-${this.size}`] = true;\n    classes[`hds-list-item-h-padding-${this.horizontalPadding}`] = true;\n\n    return html`\n      <div\n        class=\"-hds-list-item-wrapper ${classMap(classes)}\"\n        role=\"option\"\n        aria-selected=\"${ifDefined(this.selected)}\"\n        tabindex=\"0\"\n        @click=\"${this.onItemClick}\"\n        ?disabled=\"${this.disabled}\"\n      >\n        ${this.renderIcon()}\n        <span class=\"text\">\n          <slot></slot>\n        </span>\n        <slot name=\"right\"></slot>\n        ${this.renderIconRight()}\n      </div>\n      ${this.renderTooltip()}\n    `;\n  }\n\n  protected renderIcon() {\n    if (this.icon) {\n      return html`\n        <hds-icon\n          class=\"icon icon-left\"\n          name=\"${this.icon}\"\n          category=\"${this.iconCategory}\"\n          size=\"16px\"\n        ></hds-icon>\n      `;\n    }\n    return nothing;\n  }\n\n  protected renderIconRight() {\n    if (this.iconRight) {\n      return html`\n        <hds-icon\n          class=\"icon icon-right\"\n          name=\"${this.iconRight}\"\n          category=\"${this.iconRightCategory}\"\n          size=\"16px\"\n        ></hds-icon>\n      `;\n    }\n    return nothing;\n  }\n\n  protected async onItemClick() {\n    if (!this.disabled && !this.unselectable) {\n      this.selected = true;\n    }\n  }\n\n  private renderTooltip() {\n    if (this.hasTooltip) {\n      return html`\n        <hds-tooltip id=\"${this.id}\" position=\"right\">\n          <div>${this.listItemContentSlot.assignedNodes()[0]?.textContent}</div>\n        </hds-tooltip>\n      `;\n    }\n    return nothing;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'hds-list-item': ListItem;\n  }\n}\n"]}
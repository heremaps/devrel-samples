{"version":3,"file":"hds-switcher-tab.js","sourceRoot":"","sources":["../src/hds-switcher-tab.ts"],"names":[],"mappings":";;AAAA,+CAA+C;AAC/C,OAAO,EAAC,WAAW,EAAE,aAAa,EAAE,WAAW,EAAC,MAAM,gBAAgB,CAAC;AACvE,OAAO,gBAAgB,CAAC;AAExB,OAAO,EAAC,IAAI,EAAE,UAAU,EAAE,OAAO,EAAiB,MAAM,KAAK,CAAC;AAC9D,OAAO,EAAC,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAC,MAAM,mBAAmB,CAAC;AACzD,OAAO,EAAC,QAAQ,EAAC,MAAM,6BAA6B,CAAC;AACrD,OAAO,EAAC,MAAM,EAAC,MAAM,2BAA2B,CAAC;AACjD,OAAO,EAAC,QAAQ,EAAgC,MAAM,mBAAmB,CAAC;AAI1E;;;;GAIG;AAEI,IAAM,WAAW,mBAAjB,MAAM,WAAY,SAAQ,WAAW;IAArC;;QAKG,cAAS,GAAG,KAAK,CAAC;QAEgB,aAAQ,GAAG,KAAK,CAAC;QAGL,iBAAY,GAAiB,SAAS,CAAC;QACjC,sBAAiB,GAC3E,SAAS,CAAC;QACH,oBAAe,GAAoB,QAAQ,CAAC;QAC5C,iBAAY,GAAiB,QAAQ,CAAC;QACtC,qBAAgB,GAAG,KAAK,CAAC;QACzB,gBAAW,GAAG,KAAK,CAAC;QACpB,iBAAY,GAAG,KAAK,CAAC;QACX,mBAAc,GAAG,KAAK,CAAC;IAqH5C,CAAC;IAjHC,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,gBAAgB,CAAC;IACjD,CAAC;IAGD,IAAI,QAAQ,CAAC,KAAc;QACzB,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;QAChC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;IAC3C,CAAC;IAED,KAAK;QACH,OAAO,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;IAC1D,CAAC;IAED,IAAI;QACF,OAAO,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;IACzD,CAAC;IAED,KAAK;QACH,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;SAC5B;IACH,CAAC;IAEO,QAAQ;QACd,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACvB,CAAC;IAES,YAAY;QACpB,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,oBAAoB,EAAE,aAAW,CAAC,oBAAoB,EAAE,CAAC;QAC9E,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAES,OAAO,CAAC,kBAAkC;QAClD,MAAM,iBAAiB,GAAG,IAAI,CAAC,QAAQ,IAAI,kBAAkB,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,SAAS,CAAC;QAC5F,MAAM,iBAAiB,GAAG,IAAI,CAAC,QAAQ,IAAI,kBAAkB,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,SAAS,CAAC;QAC5F,IAAI,iBAAiB,EAAE;YACrB,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAA2B,QAAQ,EAAE;gBAClD,MAAM,EAAE,IAAI,CAAC,EAAE;gBACf,OAAO,EAAE,IAAI;gBACb,QAAQ,EAAE,IAAI;aACf,CAAC,CACH,CAAC;SACH;QAED,IAAI,iBAAiB,IAAI,IAAI,CAAC,UAAU,YAAY,QAAQ,EAAE;YAC5D,IAAI,CAAC,UAAU,CAAC,sBAAsB,EAAE,CAAC;SAC1C;IACH,CAAC;IAES,UAAU;QAClB,IAAI,IAAI,CAAC,IAAI,EAAE;YACb,OAAO,IAAI,CAAA;gBACD,IAAI,CAAC,IAAI;;oBAEL,IAAI,CAAC,YAAY;mBAClB,CAAC;SACf;QAED,OAAO,OAAO,CAAC;IACjB,CAAC;IAES,eAAe;QACvB,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,OAAO,IAAI,CAAA;gBACD,IAAI,CAAC,SAAS;;oBAEV,IAAI,CAAC,iBAAiB;mBACvB,CAAC;SACf;QAED,OAAO,OAAO,CAAC;IACjB,CAAC;IAES,KAAK,CAAC,YAAY;QAC1B,IAAI,CAAC,cAAc,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACvD,CAAC;IAES,MAAM;QACd,MAAM,OAAO,GAAG;YACd,2BAA2B,EAAE,IAAI;YACjC,kBAAkB,EAAE,IAAI,CAAC,cAAc;YACvC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI;YACjB,YAAY,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS;YAC9B,YAAY,EAAE,IAAI,CAAC,WAAW;YAC9B,aAAa,EAAE,IAAI,CAAC,YAAY;SACjC,CAAC;QACF,OAAO,CAAC,4BAA4B,IAAI,CAAC,eAAe,EAAE,CAAC,GAAG,IAAI,CAAC;QACnE,OAAO,CAAC,yBAAyB,IAAI,CAAC,YAAY,EAAE,CAAC,GAAG,IAAI,CAAC;QAC7D,OAAO,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,cAAc,EAAE,CAAC,GAAG,IAAI,CAAC;QACjE,OAAO,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,cAAc,EAAE,CAAC,GAAG,IAAI,CAAC;QAEjE,MAAM,aAAa,GAAG,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,QAAQ,CAAC;QAEhF,OAAO,IAAI,CAAA;;sBAEO,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,IAAI;wBACzB,aAAa,CAAC,QAAQ,EAAE;iBAC/B,OAAO;iBACP,QAAQ,CAAC,OAAO,CAAC;qBACb,IAAI,CAAC,QAAQ;kBAChB,IAAI,CAAC,QAAQ;;UAErB,IAAI,CAAC,UAAU,EAAE;;+BAEI,IAAI,CAAC,YAAY;;UAEtC,IAAI,CAAC,eAAe,EAAE;;KAE3B,CAAC;IACJ,CAAC;;AArIM,6BAAiB,GAAG,EAAC,GAAG,UAAU,CAAC,iBAAiB,EAAE,cAAc,EAAE,IAAI,EAAC,CAAC;AAC5E,kBAAM,GAAG,MAAM,CAAC;AAChB,gCAAoB,GAAG,CAAC,CAAC;AAIU;IAAzC,QAAQ,CAAC,EAAC,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;6CAAkB;AACjC;IAAzB,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;yCAAe;AACW;IAAlD,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,YAAY,EAAC,CAAC;8CAAoB;AAChB;IAArD,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,eAAe,EAAC,CAAC;iDAAwC;AACjC;IAA3D,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,qBAAqB,EAAC,CAAC;sDAC/C;AACH;IAAR,KAAK,EAAE;oDAA6C;AAC5C;IAAR,KAAK,EAAE;iDAAuC;AACtC;IAAR,KAAK,EAAE;qDAA0B;AACzB;IAAR,KAAK,EAAE;gDAAqB;AACpB;IAAR,KAAK,EAAE;iDAAsB;AACrB;IAAR,KAAK,EAAE;mDAAkC;AACf;IAA1B,KAAK,CAAC,kBAAkB,CAAC;gDAAyC;AAClD;IAAhB,KAAK,CAAC,QAAQ,CAAC;kDAAmC;AAOnD;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,OAAO,EAAC,CAAC;2CAKzB;AA/BU,WAAW;IADvB,aAAa,CAAC,kBAAkB,CAAC;GACrB,WAAW,CAuIvB;SAvIY,WAAW","sourcesContent":["/* eslint max-classes-per-file: [\"error\", 2] */\nimport {BaseElement, customElement, isSlotEmpty} from '@here/hds-base';\nimport '@here/hds-icon';\nimport {IconCategory} from '@here/hds-iconlibrary';\nimport {html, LitElement, nothing, PropertyValues} from 'lit';\nimport {property, query, state} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {styles} from './hds-switcher-tab.css.js';\nimport {Switcher, SwitcherSize, SwitcherVariant} from './hds-switcher.js';\n\nexport type SwitcherTabSelectPayload = string;\n\n/**\n * @slot default Content\n *\n * @event {CustomEvent<string>} select Fired when the element has been selected `SwitcherTabSelectPayload`\n */\n@customElement('hds-switcher-tab')\nexport class SwitcherTab extends BaseElement {\n  static shadowRootOptions = {...LitElement.shadowRootOptions, delegatesFocus: true};\n  static styles = styles;\n  static switcherTabIdCounter = 0;\n\n  private _disabled = false;\n\n  @property({type: Boolean, reflect: true}) selected = false;\n  @property({type: String}) icon?: string;\n  @property({type: String, attribute: 'icon-right'}) iconRight?: string;\n  @property({type: String, attribute: 'icon-category'}) iconCategory: IconCategory = 'core-ui';\n  @property({type: String, attribute: 'icon-right-category'}) iconRightCategory: IconCategory =\n    'core-ui';\n  @state() switcherVariant: SwitcherVariant = 'subtle';\n  @state() switcherSize: SwitcherSize = 'medium';\n  @state() switcherDisabled = false;\n  @state() isLastChild = false;\n  @state() isFirstChild = false;\n  @state() protected slotHasContent = false;\n  @query('slot:not([name])') protected defaultSlot!: HTMLSlotElement;\n  @query('button') buttonElement!: HTMLButtonElement;\n\n  get disabled() {\n    return this._disabled || this.switcherDisabled;\n  }\n\n  @property({type: Boolean})\n  set disabled(value: boolean) {\n    const oldValue = this._disabled;\n    this._disabled = value;\n    this.requestUpdate('disabled', oldValue);\n  }\n\n  focus() {\n    return this.buttonElement && this.buttonElement.focus();\n  }\n\n  blur() {\n    return this.buttonElement && this.buttonElement.blur();\n  }\n\n  click() {\n    if (!this.disabled) {\n      this.buttonElement.click();\n    }\n  }\n\n  private _onClick() {\n    this.selected = true;\n  }\n\n  protected firstUpdated() {\n    this.id = this.id || `hds-switcher-tab-${++SwitcherTab.switcherTabIdCounter}`;\n    this.onSlotChange();\n  }\n\n  protected updated(_changedProperties: PropertyValues) {\n    const isSelectedChanged = this.selected && _changedProperties.get('selected') !== undefined;\n    const isDisabledChanged = this.disabled && _changedProperties.get('disabled') !== undefined;\n    if (isSelectedChanged) {\n      this.dispatchEvent(\n        new CustomEvent<SwitcherTabSelectPayload>('select', {\n          detail: this.id,\n          bubbles: true,\n          composed: true,\n        })\n      );\n    }\n\n    if (isDisabledChanged && this.parentNode instanceof Switcher) {\n      this.parentNode.selectFirstNotDisabled();\n    }\n  }\n\n  protected renderIcon() {\n    if (this.icon) {\n      return html`<hds-icon\n        name=\"${this.icon}\"\n        size=\"16px\"\n        category=\"${this.iconCategory}\"\n      ></hds-icon>`;\n    }\n\n    return nothing;\n  }\n\n  protected renderIconRight() {\n    if (this.iconRight) {\n      return html`<hds-icon\n        name=\"${this.iconRight}\"\n        size=\"16px\"\n        category=\"${this.iconRightCategory}\"\n      ></hds-icon>`;\n    }\n\n    return nothing;\n  }\n\n  protected async onSlotChange() {\n    this.slotHasContent = !isSlotEmpty(this.defaultSlot);\n  }\n\n  protected render() {\n    const classes = {\n      '-hds-switcher-tab-wrapper': true,\n      'slot-has-content': this.slotHasContent,\n      icon: !!this.icon,\n      'icon-right': !!this.iconRight,\n      'last-child': this.isLastChild,\n      'first-child': this.isFirstChild,\n    };\n    classes[`hds-switcher-tab-variant-${this.switcherVariant}`] = true;\n    classes[`hds-switcher-tab-size-${this.switcherSize}`] = true;\n    classes[`${this.selected ? 'selected' : 'not-selected'}`] = true;\n    classes[`${this.disabled ? 'disabled' : 'not-disabled'}`] = true;\n\n    const isAreaChecked = !this.disabled && !this.switcherDisabled && this.selected;\n\n    return html`\n      <button\n        .ariaLabel=\"${this.ariaLabel ?? this.icon}\"\n        .ariaChecked=\"${isAreaChecked.toString()}\"\n        .role=\"${'radio'}\"\n        class=\"${classMap(classes)}\"\n        ?disabled=\"${this.disabled}\"\n        @click=\"${this._onClick}\"\n      >\n        ${this.renderIcon()}\n        <span class=\"content\">\n          <slot @slotchange=\"${this.onSlotChange}\"></slot>\n        </span>\n        ${this.renderIconRight()}\n      </button>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'hds-switcher-tab': SwitcherTab;\n  }\n}\n"]}
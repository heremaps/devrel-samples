{"version":3,"file":"hds-step.js","sourceRoot":"","sources":["../src/hds-step.ts"],"names":[],"mappings":"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","sourcesContent":["import {customElement} from '@here/hds-base';\nimport '@here/hds-icon';\nimport {html, LitElement, nothing, PropertyValues} from 'lit';\nimport {property} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {styles} from './hds-step.css.js';\nimport {StepperOrientation} from './hds-stepper.js';\n\nexport type StepState = 'disabled' | 'completed' | 'active' | 'error';\nexport type StepStatePayload = {\n  currentState: StepState;\n  previousState: StepState;\n  stepIndex: number;\n};\nexport type StepActivateStepInternal = {stepIndex: number};\n\n/**\n *\n * @event {CustomEvent<{currentState: StepState, previousState: StepState, stepIndex: number}>} state Fired when the step state has changed `StepStatePayload`\n * @event {CustomEvent<{stepIndex: number}>} activate-step-internal (**Internal use**) Fired when the step is active `StepActivateStepInternal`\n * @event {CustomEvent<{currentState: StepState, previousState: StepState, stepIndex: number}>} step-state **Deprecated event:** Use event `state`. `StepStatePayload`\n *\n */\n@customElement('hds-step')\nexport class Step extends LitElement {\n  static styles = styles;\n  @property({type: String}) label = '';\n  @property({type: Boolean, attribute: false}) hideLabel = false;\n  @property({type: Boolean, attribute: false}) nonLinear = false;\n  @property({type: Boolean, attribute: false, reflect: true}) bottomLabel = false;\n  @property({type: String, attribute: false, reflect: true}) orientation: StepperOrientation =\n    'horizontal';\n  @property({type: Boolean, reflect: true}) optional = false;\n  @property({type: Number, attribute: false, reflect: true}) index = 0;\n  @property({type: String, attribute: false, reflect: true}) state: StepState = 'disabled';\n  protected isTabbable = true;\n\n  protected _handleClick(e: Event) {\n    if (!this.nonLinear) {\n      e.stopPropagation();\n      e.preventDefault();\n      return;\n    }\n    this.dispatchEvent(\n      new CustomEvent<StepActivateStepInternal>('activate-step-internal', {\n        detail: {\n          stepIndex: this.index,\n        },\n        bubbles: true,\n      })\n    );\n  }\n\n  protected getStepConnector() {\n    if (this.index !== 0 && this.orientation === 'horizontal' && this.bottomLabel) {\n      return html` <hds-step-connector\n        orientation=\"${this.orientation}\"\n        .bottomLabel=\"${this.bottomLabel}\"\n      ></hds-step-connector>`;\n    }\n    return nothing;\n  }\n\n  protected async updated(_changedProperties: PropertyValues) {\n    super.updated(_changedProperties);\n    if (_changedProperties.has('state')) {\n      this.dispatchEvent(\n        new CustomEvent<StepStatePayload>('state', {\n          detail: {\n            currentState: this.state,\n            previousState: _changedProperties.get('state') as StepState,\n            stepIndex: this.index,\n          },\n          bubbles: true,\n          composed: true,\n        })\n      );\n      // TODO: Deprecate step-state event\n      this.dispatchEvent(\n        new CustomEvent<StepStatePayload>('step-state', {\n          detail: {\n            currentState: this.state,\n            previousState: _changedProperties.get('state') as StepState,\n            stepIndex: this.index,\n          },\n          bubbles: true,\n          composed: true,\n        })\n      );\n    }\n  }\n\n  protected render() {\n    const buttonClasses = {\n      [`hds-step-button--state-${this.state}`]: true,\n      'hds-step-button--non-linear-interaction': this.nonLinear,\n    };\n    const stepClasses = {\n      'hds-step--label-bottom': this.orientation === 'horizontal' && this.bottomLabel,\n      [`hds-step--orientation-${this.orientation}`]: true,\n    };\n    const _index = this.index + 1;\n    const _hasNumberedNode: boolean = this.state !== 'error' && this.state !== 'completed';\n    return html`\n      <div\n        class=\"hds-step-wrapper ${classMap(stepClasses)}\"\n        aria-current=\"${this.state === 'active' ? 'step' : 'false'}\"\n        aria-disabled=\"${!this.nonLinear}\"\n      >\n        ${this.getStepConnector()}\n        <button\n          class=\"hds-step-button ${classMap(buttonClasses)}\"\n          ?disabled=\"${!this.nonLinear}\"\n          @click=\"${e => this._handleClick(e)}\"\n        >\n          <span class=\"hds-step-button-label-container\">\n            <div class=\"hds-step-button-node-container\">\n              <div class=\"hds-step-button-node-inner-container\">\n                ${(_hasNumberedNode &&\n                  html`<span class=\"hds-step-button-node-number\">${_index}</span>`) ||\n                nothing}\n                ${(this.state === 'completed' &&\n                  html` <hds-icon name=\"checkmark\" icon-style=\"solid\" size=\"24px\"></hds-icon>`) ||\n                nothing}\n                ${(this.state === 'error' &&\n                  html` <hds-icon name=\"cross\" icon-style=\"solid\" size=\"24px\"></hds-icon>`) ||\n                nothing}\n              </div>\n            </div>\n            ${(!this.hideLabel &&\n              html`<span class=\"hds-step-button-label-text-container\">\n                <span class=\"hds-step-button-label-text-primary\">${this.label}</span>\n                ${(this.optional &&\n                  this.state !== 'error' &&\n                  html`<span class=\"hds-step-button-label-text-secondary\">Optional</span>`) ||\n                nothing}\n                ${(this.state === 'error' &&\n                  html`<span class=\"hds-step-button-label-text-secondary\">Error</span>`) ||\n                nothing}\n              </span>`) ||\n            nothing}\n          </span>\n        </button>\n      </div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'hds-step': Step;\n  }\n}\n"]}
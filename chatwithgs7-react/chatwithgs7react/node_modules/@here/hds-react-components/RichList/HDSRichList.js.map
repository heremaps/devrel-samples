{"version":3,"file":"HDSRichList.js","sourceRoot":"","sources":["../src/RichList/HDSRichList.tsx"],"names":[],"mappings":"AACA,OAAO,EAAC,QAAQ,EAAiD,MAAM,qBAAqB,CAAC;AAC7F,OAAO,KAAK,EAAE,EAAC,SAAS,EAAE,mBAAmB,EAAC,MAAM,OAAO,CAAC;AAG5D,kCAAkC;AAClC,IAAI,QAAQ,EAAE,CAAC;AASf,MAAM,WAAW,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,KAA4B,EAAE,GAAG,EAAE,EAAE;IACzE,MAAM,EAAC,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAAI,EAAC,GAAG,KAAK,CAAC;IACpF,MAAM,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAc,IAAI,CAAC,CAAC;IACjD,mBAAmB,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IAEjD,MAAM,aAAa,GAAG,CAAC,CAAyC,EAAE,EAAE;QAClE,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;IACjC,CAAC,CAAC;IAEF,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,QAAQ,IAAI,QAAQ,CAAC,OAAO,EAAE;YAChC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,aAA8B,CAAC,CAAC;SAC7E;QACD,OAAO,GAAG,EAAE,CAAC,QAAQ,CAAC,OAAO,EAAE,mBAAmB,CAAC,QAAQ,EAAE,aAA8B,CAAC,CAAC;IAC/F,CAAC,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;IAEzB,MAAM,eAAe,GAAG,CAAC,CAAiC,EAAE,EAAE;QAC5D,IAAI,CAAC,CAAC,MAAM,KAAK,QAAQ,CAAC,OAAO;YAAE,OAAO;QAC1C,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;IACjC,CAAC,CAAC;IACF,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,QAAQ,IAAI,QAAQ,CAAC,OAAO,EAAE;YAChC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,eAAgC,CAAC,CAAC;SAC/E;QACD,OAAO,GAAG,EAAE,CAAC,QAAQ,CAAC,OAAO,EAAE,mBAAmB,CAAC,QAAQ,EAAE,eAAgC,CAAC,CAAC;IACjG,CAAC,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;IAEzB,OAAO,CACL,uCACE,GAAG,EAAE,QAAQ,EACb,OAAO,EAAE,OAAO,KACZ,CAAC,QAAQ,IAAI,EAAC,QAAQ,EAAC,CAAC,KACxB,CAAC,SAAS,IAAI,EAAC,KAAK,EAAE,SAAS,EAAC,CAAC,KACjC,IAAI,IAEP,QAAQ,CACK,CACjB,CAAC;AACJ,CAAC,CAAC,CAAC;AAEH,WAAW,CAAC,YAAY,GAAG;IACzB,QAAQ,EAAE,KAAK;IACf,OAAO,EAAE,SAAS;CACnB,CAAC;AAEF,eAAe,WAAW,CAAC","sourcesContent":["import {ListSelectPayload} from '@here/hds-list';\nimport {RichList, RichListItemActionPayload, RichListItemVariant} from '@here/hds-rich-list';\nimport React, {useEffect, useImperativeHandle} from 'react';\nimport {HDSListProperties} from '../List/HDSList.js';\n\n// eslint-disable-next-line no-new\nnew RichList();\n\ninterface HDSRichListProperties extends Omit<HDSListProperties, 'variant'> {\n  children: React.ReactNode;\n  disabled?: boolean;\n  variant?: RichListItemVariant;\n  onAction?: (payload: RichListItemActionPayload) => void;\n}\n\nconst HDSRichList = React.forwardRef((props: HDSRichListProperties, ref) => {\n  const {children, variant, onAction, onSelect, disabled, className, ...rest} = props;\n  const innerRef = React.useRef<HTMLElement>(null);\n  useImperativeHandle(ref, () => innerRef.current);\n\n  const _handleAction = (e: CustomEvent<RichListItemActionPayload>) => {\n    onAction && onAction(e.detail);\n  };\n\n  useEffect(() => {\n    if (onAction && innerRef.current) {\n      innerRef.current.addEventListener('action', _handleAction as EventListener);\n    }\n    return () => innerRef.current?.removeEventListener('action', _handleAction as EventListener);\n  }, [onAction, innerRef]);\n\n  const _handleSelected = (e: CustomEvent<ListSelectPayload>) => {\n    if (e.target !== innerRef.current) return;\n    onSelect && onSelect(e.detail);\n  };\n  useEffect(() => {\n    if (onSelect && innerRef.current) {\n      innerRef.current.addEventListener('select', _handleSelected as EventListener);\n    }\n    return () => innerRef.current?.removeEventListener('select', _handleSelected as EventListener);\n  }, [onSelect, innerRef]);\n\n  return (\n    <hds-rich-list\n      ref={innerRef}\n      variant={variant}\n      {...(disabled && {disabled})}\n      {...(className && {class: className})}\n      {...rest}\n    >\n      {children}\n    </hds-rich-list>\n  );\n});\n\nHDSRichList.defaultProps = {\n  disabled: false,\n  variant: 'default',\n};\n\nexport default HDSRichList;\n"]}
import { RadioGroup } from '@here/hds-radio';
import React, { useEffect, useImperativeHandle, useRef, useState } from 'react';
// eslint-disable-next-line no-new
new RadioGroup();
const HDSRadioGroup = React.forwardRef(({ children, className, onChange, disabled, vertical, name, value, label, size, secondaryLabel, ...rest }, ref) => {
    const [groupValue, setGroupValue] = useState(value);
    const innerRef = useRef(null);
    useImperativeHandle(ref, () => innerRef.current);
    const _handleSelected = (e) => {
        if (e.target !== innerRef.current)
            return;
        setGroupValue(e.detail.value);
        onChange && onChange(e);
    };
    useEffect(() => {
        if (innerRef.current) {
            innerRef.current.addEventListener('change', _handleSelected);
        }
        return () => {
            innerRef.current?.removeEventListener('change', _handleSelected);
        };
    }, [onChange, innerRef]);
    return (React.createElement("hds-radio-group", { ...(disabled && { disabled: true }), ...(vertical && { vertical: true }), ...(label && { label }), ...(size && { size }), ...(secondaryLabel && { 'secondary-label': secondaryLabel }), name: name, ...(className && { class: className }), value: groupValue, ref: innerRef, ...rest }, children));
});
HDSRadioGroup.defaultProps = {
    vertical: false,
    disabled: false,
    value: '',
    label: undefined,
    secondaryLabel: undefined,
    size: 'medium',
};
export default HDSRadioGroup;
//# sourceMappingURL=HDSRadioGroup.js.map
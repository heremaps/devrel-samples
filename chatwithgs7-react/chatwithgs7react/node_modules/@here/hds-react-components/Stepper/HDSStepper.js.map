{"version":3,"file":"HDSStepper.js","sourceRoot":"","sources":["../src/Stepper/HDSStepper.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, {useRef, useEffect, useImperativeHandle} from 'react';\nimport {\n  Stepper,\n  StepperCurrentActiveStepPayload,\n  StepperOrientation,\n  StepStatePayload,\n} from '@here/hds-stepper';\n\n// eslint-disable-next-line no-new\nnew Stepper();\n\ninterface HDSStepperProperties extends React.HTMLAttributes<HTMLElement> {\n  nonLinear?: boolean;\n  hideLabel?: boolean;\n  bottomLabel?: boolean;\n  orientation?: StepperOrientation;\n  activeStep?: number;\n  completeStep?: number;\n  errorStep?: number;\n  children: React.ReactNode;\n  onStepStateChange?: (stepState: StepStatePayload) => void;\n  getCurrentActiveStep?: (currentActiveStep: StepperCurrentActiveStepPayload) => void;\n}\n\nconst HDSStepper = React.forwardRef((props: HDSStepperProperties, ref) => {\n  const {\n    children,\n    nonLinear,\n    hideLabel,\n    activeStep,\n    completeStep,\n    className,\n    errorStep,\n    onStepStateChange,\n    getCurrentActiveStep,\n    bottomLabel,\n    orientation,\n    ...rest\n  } = props;\n  const innerRef = useRef<HTMLElement>(null);\n  useImperativeHandle(ref, () => innerRef.current);\n\n  const _handleStepStateChange = (e: CustomEvent<StepStatePayload>) => {\n    onStepStateChange && onStepStateChange(e.detail);\n  };\n\n  const _handleCurrentActiveStepChange = (e: CustomEvent<StepperCurrentActiveStepPayload>) => {\n    if (e.target !== innerRef.current) return;\n    getCurrentActiveStep && getCurrentActiveStep(e.detail);\n  };\n\n  useEffect(() => {\n    if (innerRef.current) {\n      if (onStepStateChange) {\n        innerRef.current.addEventListener('state', _handleStepStateChange as EventListener);\n      }\n    }\n    return () => {\n      innerRef.current?.removeEventListener('state', _handleStepStateChange as EventListener);\n    };\n  }, [onStepStateChange, innerRef]);\n\n  useEffect(() => {\n    if (innerRef.current) {\n      if (getCurrentActiveStep) {\n        innerRef.current.addEventListener(\n          'current-active-step',\n          _handleCurrentActiveStepChange as EventListener\n        );\n      }\n    }\n    return () => {\n      innerRef.current?.removeEventListener(\n        'current-active-step',\n        _handleCurrentActiveStepChange as EventListener\n      );\n    };\n  }, [getCurrentActiveStep, innerRef]);\n\n  return (\n    <hds-stepper\n      {...(nonLinear && {'non-linear': nonLinear})}\n      {...(bottomLabel && {'bottom-label': bottomLabel})}\n      {...(hideLabel && {'hide-label': hideLabel})}\n      {...(className && {class: className})}\n      active-step={activeStep}\n      {...((completeStep || completeStep === 0) && {\n        'complete-step': completeStep,\n      })}\n      {...((errorStep || errorStep === 0) && {'error-step': errorStep})}\n      orientation={orientation}\n      ref={innerRef}\n      {...rest}\n    >\n      {children}\n    </hds-stepper>\n  );\n});\n\nHDSStepper.defaultProps = {\n  orientation: 'horizontal',\n  nonLinear: false,\n  hideLabel: false,\n  bottomLabel: false,\n  activeStep: 0,\n};\n\nexport default HDSStepper;\n"]}
{"version":3,"file":"HDSDropzone.js","sourceRoot":"","sources":["../src/Dropzone/HDSDropzone.tsx"],"names":[],"mappings":"AACA,OAAO,KAAK,EAAE,EAAC,SAAS,EAAE,mBAAmB,EAAC,MAAM,OAAO,CAAC;AAC5D,OAAO,EAAC,QAAQ,EAA6C,MAAM,oBAAoB,CAAC;AAExF,kCAAkC;AAClC,IAAI,QAAQ,EAAE,CAAC;AAyBf,MAAM,WAAW,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,KAA4B,EAAE,GAAG,EAAE,EAAE;IACzE,MAAM,EACJ,QAAQ,EACR,KAAK,EACL,QAAQ,EACR,QAAQ,EACR,MAAM,EACN,IAAI,EACJ,YAAY,EACZ,WAAW,EACX,KAAK,EACL,uBAAuB,EACvB,qBAAqB,EACrB,cAAc,EACd,qBAAqB,EACrB,wBAAwB,EACxB,4BAA4B,EAC5B,aAAa,EACb,SAAS,EACT,SAAS,EACT,oBAAoB,EACpB,SAAS,EACT,QAAQ,EACR,GAAG,IAAI,EACR,GAAG,KAAK,CAAC;IACV,MAAM,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAc,IAAI,CAAC,CAAC;IACjD,mBAAmB,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IAEjD,MAAM,aAAa,GAAG,CAAC,CAAqC,EAAE,EAAE;QAC9D,IAAI,CAAC,CAAC,MAAM,KAAK,QAAQ,CAAC,OAAO;YAAE,OAAO;QAC1C,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;IACjC,CAAC,CAAC;IAEF,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,QAAQ,IAAI,QAAQ,CAAC,OAAO,EAAE;YAChC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,aAA8B,CAAC,CAAC;SAC7E;QACD,OAAO,GAAG,EAAE,CAAC,QAAQ,CAAC,OAAO,EAAE,mBAAmB,CAAC,QAAQ,EAAE,aAA8B,CAAC,CAAC;IAC/F,CAAC,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;IAEzB,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,KAAK,IAAI,QAAQ,CAAC,OAAO,EAAE;YAC5B,QAAQ,CAAC,OAAoB,CAAC,KAAK,EAAE,CAAC;SACxC;IACH,CAAC,EAAE,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC;IAEtB,MAAM,UAAU,GAA0B,EAAE,CAAC;IAC7C,QAAQ,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;IACzC,KAAK,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;IACnC,QAAQ,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;IACzC,QAAQ,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;IACzC,uBAAuB,IAAI,CAAC,UAAU,CAAC,4BAA4B,CAAC,GAAG,uBAAuB,CAAC,CAAC;IAChG,qBAAqB,IAAI,CAAC,UAAU,CAAC,0BAA0B,CAAC,GAAG,qBAAqB,CAAC,CAAC;IAC1F,cAAc,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,GAAG,cAAc,CAAC,CAAC;IACpE,qBAAqB,IAAI,CAAC,UAAU,CAAC,yBAAyB,CAAC,GAAG,qBAAqB,CAAC,CAAC;IACzF,wBAAwB;QACtB,CAAC,UAAU,CAAC,6BAA6B,CAAC,GAAG,wBAAwB,CAAC,CAAC;IACzE,4BAA4B;QAC1B,CAAC,UAAU,CAAC,iCAAiC,CAAC,GAAG,4BAA4B,CAAC,CAAC;IACjF,aAAa,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,GAAG,aAAa,CAAC,CAAC;IAChE,SAAS,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,SAAS,CAAC,CAAC;IACpD,SAAS,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,SAAS,CAAC,CAAC;IACpD,oBAAoB,IAAI,CAAC,UAAU,CAAC,wBAAwB,CAAC,GAAG,oBAAoB,CAAC,CAAC;IAEtF,OAAO,CACL,sCACE,IAAI,EAAE,IAAI,KACN,CAAC,YAAY,IAAI,EAAC,eAAe,EAAE,YAAY,EAAC,CAAC,KACjD,CAAC,SAAS,IAAI,EAAC,KAAK,EAAE,SAAS,EAAC,CAAC,EACrC,MAAM,EAAE,MAAM,EACd,WAAW,EAAE,WAAW,EACxB,GAAG,EAAE,QAAQ,KACT,UAAU,KACV,IAAI,GACM,CACjB,CAAC;AACJ,CAAC,CAAC,CAAC;AAEH,WAAW,CAAC,WAAW,GAAG,cAAc,CAAC;AACzC,WAAW,CAAC,YAAY,GAAG;IACzB,QAAQ,EAAE,KAAK;IACf,KAAK,EAAE,KAAK;IACZ,QAAQ,EAAE,KAAK;IACf,QAAQ,EAAE,KAAK;IACf,MAAM,EAAE,EAAE;IACV,IAAI,EAAE,EAAE;IACR,YAAY,EAAE,SAAS;IACvB,WAAW,EAAE,YAAY;IACzB,uBAAuB,EAAE,cAAc;IACvC,qBAAqB,EAAE,iBAAiB;IACxC,cAAc,EAAE,IAAI;IACpB,qBAAqB,EAAE,WAAW;IAClC,wBAAwB,EAAE,EAAE;IAC5B,4BAA4B,EAAE,EAAE;IAChC,aAAa,EAAE,EAAE;IACjB,SAAS,EAAE,EAAE;IACb,SAAS,EAAE,EAAE;IACb,oBAAoB,EAAE,EAAE;CACzB,CAAC;AAEF,eAAe,WAAW,CAAC","sourcesContent":["import {IconCategory} from '@here/hds-iconlibrary';\nimport React, {useEffect, useImperativeHandle} from 'react';\nimport {Dropzone, DropzoneChangePayload, DropzoneOrientation} from '@here/hds-dropzone';\n\n// eslint-disable-next-line no-new\nnew Dropzone();\n\ninterface HDSDropzoneProperties extends Omit<React.HTMLAttributes<HTMLElement>, 'onChange'> {\n  progress?: boolean;\n  error?: boolean;\n  disabled?: boolean;\n  multiple?: boolean;\n  accept?: string;\n  icon?: string;\n  reset?: boolean;\n  iconCategory?: IconCategory;\n  orientation?: DropzoneOrientation;\n  textDropzoneBrowseFiles?: string;\n  textDropzoneDropFiles?: string;\n  textDropzoneOr?: string;\n  textDropzoneUploading?: string;\n  textDropzoneDraggingOver?: string;\n  textDropzoneFileRestrictions?: string;\n  textAssistive?: string;\n  textError?: string;\n  textTitle?: string;\n  textFileRestrictions?: string;\n  onChange?: (e: DropzoneChangePayload) => void;\n}\n\nconst HDSDropzone = React.forwardRef((props: HDSDropzoneProperties, ref) => {\n  const {\n    progress,\n    error,\n    disabled,\n    multiple,\n    accept,\n    icon,\n    iconCategory,\n    orientation,\n    reset,\n    textDropzoneBrowseFiles,\n    textDropzoneDropFiles,\n    textDropzoneOr,\n    textDropzoneUploading,\n    textDropzoneDraggingOver,\n    textDropzoneFileRestrictions,\n    textAssistive,\n    textError,\n    textTitle,\n    textFileRestrictions,\n    className,\n    onChange,\n    ...rest\n  } = props;\n  const innerRef = React.useRef<HTMLElement>(null);\n  useImperativeHandle(ref, () => innerRef.current);\n\n  const _handleChange = (e: CustomEvent<DropzoneChangePayload>) => {\n    if (e.target !== innerRef.current) return;\n    onChange && onChange(e.detail);\n  };\n\n  useEffect(() => {\n    if (onChange && innerRef.current) {\n      innerRef.current.addEventListener('change', _handleChange as EventListener);\n    }\n    return () => innerRef.current?.removeEventListener('change', _handleChange as EventListener);\n  }, [onChange, innerRef]);\n\n  useEffect(() => {\n    if (reset && innerRef.current) {\n      (innerRef.current as Dropzone).reset();\n    }\n  }, [reset, innerRef]);\n\n  const attributes: HDSDropzoneProperties = {};\n  progress && (attributes.progress = true);\n  error && (attributes.error = true);\n  disabled && (attributes.disabled = true);\n  multiple && (attributes.multiple = true);\n  textDropzoneBrowseFiles && (attributes['text-dropzone-browse-files'] = textDropzoneBrowseFiles);\n  textDropzoneDropFiles && (attributes['text-dropzone-drop-files'] = textDropzoneDropFiles);\n  textDropzoneOr && (attributes['text-dropzone-or'] = textDropzoneOr);\n  textDropzoneUploading && (attributes['text-dropzone-uploading'] = textDropzoneUploading);\n  textDropzoneDraggingOver &&\n    (attributes['text-dropzone-dragging-over'] = textDropzoneDraggingOver);\n  textDropzoneFileRestrictions &&\n    (attributes['text-dropzone-file-restrictions'] = textDropzoneFileRestrictions);\n  textAssistive && (attributes['text-assistive'] = textAssistive);\n  textError && (attributes['text-error'] = textError);\n  textTitle && (attributes['text-title'] = textTitle);\n  textFileRestrictions && (attributes['text-file-restrictions'] = textFileRestrictions);\n\n  return (\n    <hds-dropzone\n      icon={icon}\n      {...(iconCategory && {'icon-category': iconCategory})}\n      {...(className && {class: className})}\n      accept={accept}\n      orientation={orientation}\n      ref={innerRef}\n      {...attributes}\n      {...rest}\n    ></hds-dropzone>\n  );\n});\n\nHDSDropzone.displayName = 'hds-dropzone';\nHDSDropzone.defaultProps = {\n  progress: false,\n  error: false,\n  disabled: false,\n  multiple: false,\n  accept: '',\n  icon: '',\n  iconCategory: 'core-ui',\n  orientation: 'horizontal',\n  textDropzoneBrowseFiles: 'Browse files',\n  textDropzoneDropFiles: 'Drop files here',\n  textDropzoneOr: 'or',\n  textDropzoneUploading: 'Uploading',\n  textDropzoneDraggingOver: '',\n  textDropzoneFileRestrictions: '',\n  textAssistive: '',\n  textError: '',\n  textTitle: '',\n  textFileRestrictions: '',\n};\n\nexport default HDSDropzone;\n"]}
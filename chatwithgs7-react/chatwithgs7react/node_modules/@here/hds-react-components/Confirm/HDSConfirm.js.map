{"version":3,"file":"HDSConfirm.js","sourceRoot":"","sources":["../src/Confirm/HDSConfirm.tsx"],"names":[],"mappings":"AACA,OAAO,KAAK,EAAE,EAAC,SAAS,EAAE,mBAAmB,EAAE,MAAM,EAAC,MAAM,OAAO,CAAC;AAEpE,OAAO,EAAC,OAAO,EAAC,MAAM,mBAAmB,CAAC;AAE1C,kCAAkC;AAClC,IAAI,OAAO,EAAE,CAAC;AAgBd,MAAM,UAAU,GAAG,KAAK,CAAC,UAAU,CACjC,CACE,EACE,SAAS,EACT,QAAQ,EACR,OAAO,EACP,QAAQ,EACR,SAAS,EACT,aAAa,EACb,QAAQ,EACR,IAAI,EACJ,YAAY,EACZ,SAAS,EACT,YAAY,EACZ,MAAM,EACN,MAAM,EACN,0BAA0B,EAC1B,oBAAoB,EACpB,WAAW,EACX,UAAU,EACV,eAAe,EACf,GAAG,KAAK,EACa,EACvB,GAAG,EACH,EAAE;IACF,MAAM,QAAQ,GAAG,MAAM,CAAc,IAAI,CAAC,CAAC;IAE3C,mBAAmB,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACjD,MAAM,YAAY,GAAG,CAAC,CAAkC,EAAE,EAAE;QAC1D,IAAI,CAAC,CAAC,MAAM,KAAK,QAAQ,CAAC,OAAO;YAAE,OAAO;QAC1C,OAAO,IAAI,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;QAC7B,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;IACjC,CAAC,CAAC;IACF,MAAM,aAAa,GAAG,CAAC,CAAkC,EAAE,EAAE;QAC3D,IAAI,CAAC,CAAC,MAAM,KAAK,QAAQ,CAAC,OAAO;YAAE,OAAO;QAC1C,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE;YACrB,KAAK,aAAa;gBAChB,aAAa,IAAI,aAAa,EAAE,CAAC;gBACjC,MAAM;YACR,KAAK,SAAS;gBACZ,SAAS,IAAI,SAAS,EAAE,CAAC;gBACzB,MAAM;YACR,KAAK,QAAQ;gBACX,QAAQ,IAAI,QAAQ,EAAE,CAAC;gBACvB,MAAM;SACT;IACH,CAAC,CAAC;IAEF,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,QAAQ,CAAC,OAAO,EAAE;YACpB,CAAC,QAAQ,IAAI,OAAO,CAAC;gBACnB,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,YAA6B,CAAC,CAAC;YAC7E,CAAC,SAAS,IAAI,QAAQ,IAAI,aAAa,CAAC;gBACtC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,aAA8B,CAAC,CAAC;SAC/E;QACD,OAAO,GAAG,EAAE;YACV,QAAQ,CAAC,OAAO,EAAE,mBAAmB,CAAC,OAAO,EAAE,YAA6B,CAAC,CAAC;YAC9E,QAAQ,CAAC,OAAO,EAAE,mBAAmB,CAAC,QAAQ,EAAE,aAA8B,CAAC,CAAC;QAClF,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,aAAa,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;IAEtE,MAAM,UAAU,GAAyB,EAAE,CAAC;IAC5C,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;IACjC,YAAY,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,GAAG,YAAY,CAAC,CAAC;IAC7D,SAAS,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,SAAS,CAAC,CAAC;IACpD,YAAY,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,GAAG,YAAY,CAAC,CAAC;IAC9D,0BAA0B;QACxB,CAAC,UAAU,CAAC,gCAAgC,CAAC,GAAG,0BAA0B,CAAC,CAAC;IAC9E,oBAAoB,IAAI,CAAC,UAAU,CAAC,yBAAyB,CAAC,GAAG,oBAAoB,CAAC,CAAC;IACvF,WAAW,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,GAAG,WAAW,CAAC,CAAC;IAC1D,UAAU,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,GAAG,UAAU,CAAC,CAAC;IACvD,eAAe,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,GAAG,eAAe,CAAC,CAAC;IAEvE,OAAO,CACL,wCAAiB,KAAK,KAAM,UAAU,KAAM,CAAC,SAAS,IAAI,EAAC,KAAK,EAAE,SAAS,EAAC,CAAC,EAAE,GAAG,EAAE,QAAQ;QAC1F,8BAAM,IAAI,EAAC,QAAQ,IAAE,MAAM,CAAQ;QACnC,6BAAK,IAAI,EAAC,MAAM,IAAE,QAAQ,CAAO;QAChC,MAAM,IAAI,6BAAK,IAAI,EAAC,QAAQ,IAAE,MAAM,CAAO,CAChC,CACf,CAAC;AACJ,CAAC,CACF,CAAC;AAEF,UAAU,CAAC,YAAY,GAAG;IACxB,YAAY,EAAE,KAAK;IACnB,cAAc,EAAE,OAAO;IACvB,IAAI,EAAE,EAAE;IACR,SAAS,EAAE,EAAE;IACb,YAAY,EAAE,SAAS;IACvB,0BAA0B,EAAE,KAAK;IACjC,oBAAoB,EAAE,KAAK;IAC3B,WAAW,EAAE,MAAM;IACnB,UAAU,EAAE,QAAQ;IACpB,eAAe,EAAE,UAAU;CAC5B,CAAC;AAEF,eAAe,UAAU,CAAC","sourcesContent":["import {ModalActionPayload, ModalChangePayload} from '@here/hds-modal';\nimport React, {useEffect, useImperativeHandle, useRef} from 'react';\nimport {HDSModalProperties} from '../Modal/HDSModal.js';\nimport {Confirm} from '@here/hds-confirm';\n\n// eslint-disable-next-line no-new\nnew Confirm();\n\nexport interface HDSConfirmProperties\n  extends Omit<\n    HDSModalProperties,\n    | 'headingMessage'\n    | 'message'\n    | 'hideHeader'\n    | 'hideFooter'\n    | 'titleSize'\n    | 'confirmVariant'\n    | 'hideConfirm'\n    | 'hideCancel'\n    | 'hideThirdButton'\n  > {}\n\nconst HDSConfirm = React.forwardRef(\n  (\n    {\n      className,\n      children,\n      onClose,\n      onChange,\n      onConfirm,\n      onThirdButton,\n      onCancel,\n      icon,\n      iconCategory,\n      iconColor,\n      hideCloseBtn,\n      header,\n      footer,\n      disableCloseOnOverlayClick,\n      disableCloseOnEscape,\n      confirmText,\n      cancelText,\n      thirdButtonText,\n      ...props\n    }: HDSConfirmProperties,\n    ref\n  ) => {\n    const innerRef = useRef<HTMLElement>(null);\n\n    useImperativeHandle(ref, () => innerRef.current);\n    const _handleClose = (e: CustomEvent<ModalChangePayload>) => {\n      if (e.target !== innerRef.current) return;\n      onClose && onClose(e.detail);\n      onChange && onChange(e.detail);\n    };\n    const _handleAction = (e: CustomEvent<ModalActionPayload>) => {\n      if (e.target !== innerRef.current) return;\n      switch (e.detail.from) {\n        case 'thirdButton':\n          onThirdButton && onThirdButton();\n          break;\n        case 'confirm':\n          onConfirm && onConfirm();\n          break;\n        case 'cancel':\n          onCancel && onCancel();\n          break;\n      }\n    };\n\n    useEffect(() => {\n      if (innerRef.current) {\n        (onChange || onClose) &&\n          innerRef.current.addEventListener('change', _handleClose as EventListener);\n        (onConfirm || onCancel || onThirdButton) &&\n          innerRef.current.addEventListener('action', _handleAction as EventListener);\n      }\n      return () => {\n        innerRef.current?.removeEventListener('close', _handleClose as EventListener);\n        innerRef.current?.removeEventListener('action', _handleAction as EventListener);\n      };\n    }, [onClose, onChange, onConfirm, onThirdButton, onCancel, innerRef]);\n\n    const attributes: HDSConfirmProperties = {};\n    icon && (attributes.icon = icon);\n    iconCategory && (attributes['icon-category'] = iconCategory);\n    iconColor && (attributes['icon-color'] = iconColor);\n    hideCloseBtn && (attributes['hide-close-btn'] = hideCloseBtn);\n    disableCloseOnOverlayClick &&\n      (attributes['disable-close-on-overlay-click'] = disableCloseOnOverlayClick);\n    disableCloseOnEscape && (attributes['disable-close-on-escape'] = disableCloseOnEscape);\n    confirmText && (attributes['confirm-text'] = confirmText);\n    cancelText && (attributes['cancel-text'] = cancelText);\n    thirdButtonText && (attributes['third-button-text'] = thirdButtonText);\n\n    return (\n      <hds-confirm {...props} {...attributes} {...(className && {class: className})} ref={innerRef}>\n        <span slot=\"header\">{header}</span>\n        <div slot=\"body\">{children}</div>\n        {footer && <div slot=\"footer\">{footer}</div>}\n      </hds-confirm>\n    );\n  }\n);\n\nHDSConfirm.defaultProps = {\n  hideCloseBtn: false,\n  closeAriaLabel: 'Close',\n  icon: '',\n  iconColor: '',\n  iconCategory: 'core-ui',\n  disableCloseOnOverlayClick: false,\n  disableCloseOnEscape: false,\n  confirmText: 'Done',\n  cancelText: 'Cancel',\n  thirdButtonText: 'Settings',\n};\n\nexport default HDSConfirm;\n"]}
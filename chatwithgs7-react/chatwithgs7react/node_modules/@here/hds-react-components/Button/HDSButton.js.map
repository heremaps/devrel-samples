{"version":3,"file":"HDSButton.js","sourceRoot":"","sources":["../src/Button/HDSButton.tsx"],"names":[],"mappings":"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","sourcesContent":["import {IconCategory} from '@here/hds-iconlibrary';\nimport {useEffect, useImperativeHandle, useRef} from 'react';\nimport * as React from 'react';\nimport {Button, ButtonSelectPayload, ButtonSize, ButtonType, ButtonVariant} from '@here/hds-button';\nimport {HDSIcon} from '../Icon/index.js';\n\n// eslint-disable-next-line no-new\nnew Button();\n\ninterface HDSButtonProperties\n  extends Omit<React.HTMLAttributes<HTMLButtonElement>, 'onClick' | 'onSelect'> {\n  disabled?: boolean;\n  selected?: boolean;\n  selectable?: boolean;\n  size?: ButtonSize;\n  variant?: ButtonVariant;\n  width?: string;\n  icon?: string;\n  iconCategory?: IconCategory;\n  iconRight?: string;\n  iconRightCategory?: IconCategory;\n  iconOnly?: boolean;\n  link?: boolean;\n  loading?: boolean;\n  type?: ButtonType;\n  onClick?: (e: MouseEvent) => void;\n  onSelect?: (e: CustomEvent<ButtonSelectPayload>) => void;\n}\n\ninterface HDSLinkButtonProperties extends HDSButtonProperties {\n  children: React.ReactElement;\n}\n\nconst HDSLinkButton = React.forwardRef((props: HDSLinkButtonProperties, ref) => {\n  const {\n    children,\n    disabled,\n    size,\n    variant,\n    icon,\n    iconRight,\n    iconCategory,\n    iconRightCategory,\n    iconOnly,\n    ...rest\n  } = props;\n  // Render the button as link\n  const classesMap: Record<string, boolean> = {\n    'hds-button': true,\n  };\n  classesMap[`hds-button--size-${size ?? 'medium'}`] = true;\n  classesMap[`hds-button--variant-${variant ?? 'primary'}`] = true;\n  classesMap['hds-button--icon'] = !!icon || !!iconRight;\n  classesMap['hds-button--icononly'] = !!iconOnly;\n  classesMap['hds-button--disabled'] = !!disabled;\n  const classes = Object.keys(classesMap)\n    .reduce((acc, key) => {\n      if (classesMap[key]) {\n        acc.push(key);\n      }\n      return acc;\n    }, [] as string[])\n    .join(' ');\n\n  const Icon = icon ? <HDSIcon name={icon} size=\"16px\" category={iconCategory} /> : null;\n  const IconRight = iconRight ? (\n    <HDSIcon name={iconRight} category={iconRightCategory} size=\"16px\" />\n  ) : null;\n  const linkProps = {\n    ...rest,\n    ...children?.props,\n    link: undefined,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ref: ref as any,\n    className: classes,\n    tabIndex: disabled ? -1 : 0,\n    children: (\n      <>\n        {Icon}\n        {!iconOnly && children?.props?.children && (\n          <span className=\"hds-button-label\">{children.props.children}</span>\n        )}\n        {IconRight}\n      </>\n    ),\n  };\n  return React.isValidElement(children) ? (\n    React.cloneElement(children, {...linkProps})\n  ) : (\n    <span {...linkProps} role=\"button\">\n      <>\n        {Icon}\n        {!iconOnly && <span className=\"hds-button-label\">{children}</span>}\n      </>\n    </span>\n  );\n});\n\nconst HDSButton = React.forwardRef((props: HDSButtonProperties, ref) => {\n  const {\n    children,\n    className,\n    disabled,\n    selected,\n    selectable,\n    onClick,\n    onSelect,\n    size,\n    variant,\n    width,\n    icon,\n    iconCategory,\n    iconRight,\n    iconRightCategory,\n    link,\n    loading,\n    ...rest\n  } = props;\n  // Render the button as link\n  if (link) {\n    return (\n      <HDSLinkButton {...props} {...(className && {class: className})}>\n        {children as React.ReactElement}\n      </HDSLinkButton>\n    );\n  }\n\n  const innerRef = useRef<HTMLElement>(null);\n  useImperativeHandle(ref, () => innerRef.current);\n\n  const _handleClick = (e: MouseEvent) => {\n    if (!disabled && onClick) {\n      onClick(e);\n    }\n  };\n\n  const _handleSelect = (e: CustomEvent<ButtonSelectPayload>) => {\n    if (e.target !== innerRef.current) return;\n    onSelect && onSelect(e);\n  };\n\n  useEffect(() => {\n    if (innerRef.current) {\n      innerRef.current.addEventListener('click', _handleClick as EventListener);\n      innerRef.current.addEventListener('select', _handleSelect as EventListener);\n    }\n    return () => {\n      innerRef.current?.removeEventListener('click', _handleClick as EventListener);\n      innerRef.current?.removeEventListener('select', _handleSelect as EventListener);\n    };\n  }, [onClick, onSelect, innerRef]);\n\n  return (\n    <hds-button\n      {...rest}\n      {...(className && {class: className})}\n      variant={variant}\n      {...(selected && {selected: true})}\n      {...(selectable && {selectable: true})}\n      {...(disabled && {disabled: true})}\n      {...(width && {width})}\n      {...(icon && {icon})}\n      {...(loading && {loading: true})}\n      {...(iconCategory && {'icon-category': iconCategory})}\n      {...(iconRight && {'icon-right': iconRight})}\n      {...(iconRightCategory && {'icon-right-category': iconRightCategory})}\n      size={size}\n      ref={innerRef}\n    >\n      {children}\n    </hds-button>\n  );\n});\n\nHDSButton.defaultProps = {\n  type: 'button',\n  variant: 'primary',\n  size: 'medium',\n  iconCategory: 'core-ui',\n  iconRightCategory: 'core-ui',\n};\nexport default HDSButton;\n"]}
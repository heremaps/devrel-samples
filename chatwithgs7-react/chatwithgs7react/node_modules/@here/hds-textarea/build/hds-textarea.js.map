{"version":3,"file":"hds-textarea.js","sourceRoot":"","sources":["../src/hds-textarea.ts"],"names":[],"mappings":"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","sourcesContent":["import {customElement, BaseElement} from '@here/hds-base';\nimport '@here/hds-label';\nimport {html, LitElement, nothing, PropertyValues} from 'lit';\nimport {property, query} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\nimport {styleMap} from 'lit/directives/style-map.js';\nimport {styles} from './hds-textarea.css.js';\n\nexport type TextareaStyleResize = 'none' | 'both' | 'horizontal' | 'vertical';\nexport type TextareaInputPayload = {value: string};\nexport type TextareaChangePayload = {value: string};\n\n/**\n *\n * @event {CustomEvent<{value: string}>} input Fired when the value of the element has changed `TextareaInputPayload`\n * @event {CustomEvent<{value: string}>} change Fired when an alteration to the element's value is committed by the user `TextChangePayload`\n * @event {CustomEvent<Textarea>} focus Fired when the element has focus\n * @event {CustomEvent<Textarea>} blur Fired when the element loses focus\n * @event {KeyboardEvent} keydown Fired when a key is pressed\n * @event {KeyboardEvent} keyup Fired when a key is released\n *\n */\n@customElement('hds-textarea')\nexport class Textarea extends BaseElement {\n  static styles = styles;\n  static idCounter = 0;\n  static shadowRootOptions = {...LitElement.shadowRootOptions, delegatesFocus: true};\n  static formAssociated = true;\n  isTabbable = true;\n\n  @property({type: String}) name = '';\n  @property({type: String}) placeholder?;\n  @property({type: String}) label?;\n  @property({type: String, attribute: 'secondary-label'}) secondaryLabel?;\n  @property({type: Number}) rows = -1;\n  @property({type: Number}) cols = -1;\n  @property({type: Boolean}) disabled = false;\n  @property({type: Boolean}) readonly = false;\n  @property({type: Boolean}) required = false;\n  @property({type: Boolean}) autofocus = false;\n  @property({type: Number}) minlength = -1;\n  @property({type: Number}) maxlength = -1;\n  @property({type: Boolean, attribute: 'char-counter'}) charCounter = false;\n  @property({type: Boolean}) error = false;\n  @property({type: String, attribute: 'error-text'}) errorText?;\n  @property({type: String, attribute: 'aria-labelledby'}) ariaLabelledBy?;\n  @property({type: String, reflect: true, attribute: true}) resize: TextareaStyleResize = 'none';\n  @property({type: String}) autocomplete = '';\n  @query('textarea') textareaElement!: HTMLTextAreaElement;\n  private _labelId: string | undefined;\n  private _value: string = '';\n\n  protected get charCounterVisible(): boolean {\n    return this.charCounter && this.maxlength !== -1;\n  }\n\n  protected get errorTextVisible(): boolean {\n    return this.error && !!this.errorText;\n  }\n\n  connectedCallback() {\n    super.connectedCallback && super.connectedCallback();\n    Textarea.idCounter += 1;\n    if (this.label) {\n      this._labelId = `hds-textarea-label-${Textarea.idCounter}`;\n    }\n  }\n\n  protected firstUpdated() {\n    this.autofocus && this.focus();\n  }\n\n  protected updated(_changedProps: PropertyValues) {\n    if (_changedProps.has('value') && _changedProps.get('value') !== undefined) {\n      this.textareaElement.value = this.value;\n      this.dispatchEvent(\n        new CustomEvent<TextareaInputPayload>('input', {\n          detail: {value: this.value},\n          bubbles: true,\n          composed: true,\n        })\n      );\n    }\n  }\n\n  @property({type: String, reflect: true, attribute: 'value'})\n  get value() {\n    return this._value;\n  }\n\n  set value(val: string) {\n    const oldValue = this._value;\n    this._value = val;\n    this.requestUpdate('value', oldValue);\n  }\n\n  setSelectionRange(start: number, end: number, direction?: 'forward' | 'backward' | 'none') {\n    this.textareaElement!.setSelectionRange(start, end, direction);\n  }\n\n  setRangeText(replacement: string, start?: number, end?: number, selectionMode?: SelectionMode) {\n    if (start && end) {\n      this.textareaElement.setRangeText(replacement, start, end, selectionMode);\n    } else {\n      this.textareaElement.setRangeText(replacement);\n    }\n    this.value = this.textareaElement.value;\n  }\n\n  checkValidity() {\n    return this.textareaElement.checkValidity();\n  }\n\n  reportValidity() {\n    return this.textareaElement.reportValidity();\n  }\n\n  select() {\n    this.textareaElement.select();\n  }\n\n  setCustomValidity(error: string) {\n    this.textareaElement.setCustomValidity(error);\n  }\n\n  focus() {\n    this.textareaElement.focus();\n  }\n\n  blur() {\n    this.textareaElement.blur();\n  }\n\n  async clear() {\n    this.value = '';\n    await this.updateComplete;\n\n    this.dispatchEvent(\n      new CustomEvent<TextareaChangePayload>('change', {\n        detail: {value: this.value},\n        bubbles: true,\n        composed: true,\n      })\n    );\n  }\n\n  private async _nativeFocus(e: Event) {\n    e.stopPropagation();\n    e.preventDefault();\n    await this.updateComplete;\n    this.dispatchEvent(\n      new CustomEvent<Textarea>('focus', {\n        detail: this,\n        bubbles: true,\n        composed: true,\n      })\n    );\n  }\n\n  private async _nativeBlur(e: Event) {\n    e.stopPropagation();\n    e.preventDefault();\n    await this.updateComplete;\n    this.dispatchEvent(\n      new CustomEvent<Textarea>('blur', {\n        detail: this,\n        bubbles: true,\n        composed: true,\n      })\n    );\n  }\n\n  protected renderCharCounter() {\n    const length = Math.min(this.value.length, this.maxlength);\n    return this.charCounterVisible\n      ? html` <span slot=\"secondary\">${length}/${this.maxlength}</span>`\n      : nothing;\n  }\n\n  protected renderSecondaryLabel() {\n    return this.secondaryLabel\n      ? html` <span slot=\"secondary\">${this.secondaryLabel}</span>`\n      : nothing;\n  }\n\n  protected renderLabels() {\n    if (this.label || this.secondaryLabel) {\n      return html` <hds-label>${this.label || nothing} ${this.renderSecondaryLabel()}</hds-label>`;\n    }\n    return nothing;\n  }\n\n  protected renderHelperText() {\n    if (!this.charCounterVisible && !this.errorTextVisible) {\n      return undefined;\n    }\n    return html`\n      <hds-label type=\"assistive\" variant=\"error\"\n        >${this.errorTextVisible ? this.errorText : nothing} ${this.renderCharCounter()}\n      </hds-label>\n    `;\n  }\n\n  protected render() {\n    const classes = {\n      disabled: this.disabled,\n      readonly: this.readonly,\n      required: this.required,\n      error: this.error,\n    };\n\n    const localStyles = {\n      resize: this.resize,\n    };\n\n    return html`\n      <div class=\"wrapper\">\n        ${this.renderLabels()}\n        <textarea\n          .value=\"${this.value}\"\n          autocomplete=\"${ifDefined(this.autocomplete || undefined)}\"\n          id=\"${ifDefined(this.id === '' ? undefined : this.id)}\"\n          name=\"${ifDefined(this.name === '' ? undefined : this.name)}\"\n          placeholder=\"${ifDefined(this.placeholder === '' ? undefined : this.placeholder)}\"\n          ?required=\"${this.required}\"\n          ?disabled=\"${this.disabled}\"\n          ?readonly=\"${this.readonly}\"\n          rows=\"${ifDefined(this.rows === -1 ? undefined : this.rows)}\"\n          cols=\"${ifDefined(this.cols === -1 ? undefined : this.cols)}\"\n          minlength=\"${ifDefined(this.minlength === -1 ? undefined : this.minlength)}\"\n          maxlength=\"${ifDefined(this.maxlength === -1 ? undefined : this.maxlength)}\"\n          style=${styleMap(localStyles)}\n          class=\"${classMap(classes)}\"\n          @change=\"${this._nativeChange}\"\n          @input=\"${this._nativeInput}\"\n          @focus=\"${this._nativeFocus}\"\n          @blur=\"${this._nativeBlur}\"\n          @keydown=\"${this._nativeKeyPress}\"\n          @keyup=\"${this._nativeKeyPress}\"\n          aria-labelledby=\"${ifDefined(this.getAriaLabelledBy())}\"\n        >\n        </textarea>\n        ${this.renderHelperText()}\n      </div>\n    `;\n  }\n\n  protected getAriaLabelledBy() {\n    if (this.label) return this._labelId;\n    if (this.ariaLabelledBy) return this.ariaLabelledBy;\n    return undefined;\n  }\n\n  private async _nativeInput(e: Event) {\n    e.stopPropagation();\n    e.preventDefault();\n    this.value = this.textareaElement.value;\n    await this.updateComplete;\n  }\n\n  private async _nativeChange(e: Event) {\n    e.stopPropagation();\n    e.preventDefault();\n    this.value = this.textareaElement.value;\n    await this.updateComplete;\n    this.dispatchEvent(\n      new CustomEvent<TextareaChangePayload>('change', {\n        detail: {value: this.value},\n        bubbles: true,\n        composed: true,\n      })\n    );\n  }\n\n  private async _nativeKeyPress(e: KeyboardEvent) {\n    e.stopPropagation();\n    await this.updateComplete;\n    this.dispatchEvent(new KeyboardEvent(e.type, e));\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'hds-textarea': Textarea;\n  }\n}\n"]}